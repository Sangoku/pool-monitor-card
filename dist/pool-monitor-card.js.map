{"version":3,"file":"pool-monitor-card.js","sources":["../src/locales/en.js","../src/locales/fr.js","../src/locales/es.js","../src/locales/de.js","../src/locales/it.js","../src/locales/nl.js","../src/locales/pt.js","../src/locales/pt-br.js","../src/locales/ro.js","../src/locales/sk.js","../src/locales/he.js","../src/locales/ru.js","../src/locales/translations.js","../src/constants.js","../src/styles/styles.js","../src/components/card-content.js","../src/configs/pool_config.js","../src/pool_monitor_card.js"],"sourcesContent":["export default {\n  \"state\": {\n    \"1\": \"Too Low\",\n    \"2\": \"Acceptable Low\",\n    \"3\": \"Ideal\",\n    \"4\": \"Ideal\",\n    \"5\": \"Acceptable High\",\n    \"6\": \"Too High\"\n  },\n  \"sensor\": {\n    \"temperature\": \"Temperature\",\n    \"temperature_2\": \"Temperature 2\",\n    \"ph\": \"pH\",\n    \"orp\": \"ORP\",\n    \"tds\": \"TDS\",\n    \"salinity\": \"Salinity\",\n    \"cya\": \"Cyanuric Acid\",\n    \"calcium\": \"Calcium\",\n    \"phosphate\": \"Phosphate\",\n    \"alkalinity\": \"Alkalinity\",\n    \"free_chlorine\": \"Free Chlorine\",\n    \"total_chlorine\": \"Total Chlorine\",\n    \"pressure\": \"Filter Pressure\",\n    \"sg\": \"Specific Gravity\",\n    \"magnesium\": \"Magnesium\",\n    \"water_level\": \"Water Level\",\n    \"flow_rate\": \"Flow Rate\",\n    \"uv_radiation\": \"UV Radiation\",\n    \"product_volume\": \"Product Volume\",\n    \"product_weight\": \"Product Weight\"\n  },\n  \"time\": {\n    \"seconds\": \"just now\",\n    \"minutes\": \"{minutes} minute{plural} ago\",\n    \"hours\": \"{hours} hour{plural} ago\",\n    \"days\": \"{days} day{plural} ago\"\n  }\n}\n","export default {\n  \"state\": {\n    \"1\": \"Trop bas\",\n    \"2\": \"Acceptable bas\",\n    \"3\": \"Idéal\",\n    \"4\": \"Idéal\",\n    \"5\": \"Acceptable élevé\",\n    \"6\": \"Trop élevé\"\n  },\n  \"sensor\": {\n    \"temperature\": \"Température\",\n    \"temperature_2\": \"Température 2\",\n    \"ph\": \"pH\",\n    \"orp\": \"ORP\",\n    \"tds\": \"TDS\",\n    \"salinity\": \"Salinité\",\n    \"cya\": \"Acide cyanurique\",\n    \"calcium\": \"Calcium\",\n    \"phosphate\": \"Phosphate\",\n    \"alkalinity\": \"Alcalinité\",\n    \"free_chlorine\": \"Chlore libre\",\n    \"total_chlorine\": \"Chlore total\",\n    \"pressure\": \"Pression du filtre\",\n    \"sg\": \"Densité spécifique\",\n    \"magnesium\": \"Magnésium\",\n    \"water_level\": \"Niveau d'eau\",\n    \"flow_rate\": \"Débit\",\n    \"uv_radiation\": \"Radiation UV\",\n    \"product_volume\": \"Volume Produit\",\n    \"product_weight\": \"Poids Produit\"\n  },\n  \"time\": {\n    \"seconds\": \"il y a {seconds} seconde{plural}\",\n    \"minutes\": \"il y a {minutes} minute{plural}\",\n    \"hours\": \"il y a {hours} heure{plural}\",\n    \"days\": \"il y a {days} jour{plural}\"\n  }\n}\n","export default {\n  \"state\": {\n    \"1\": \"Demasiado bajo\",\n    \"2\": \"Aceptable bajo\",\n    \"3\": \"Perfecto\",\n    \"4\": \"Perfecto\",\n    \"5\": \"Aceptable alto\",\n    \"6\": \"Demasiado alto\"\n  },\n  \"sensor\": {\n    \"temperature\": \"Temperatura\",\n    \"temperature_2\": \"Temperatura 2\",\n    \"ph\": \"pH\",\n    \"orp\": \"ORP\",\n    \"tds\": \"TDS\",\n    \"salinity\": \"Salinidad\",\n    \"cya\": \"Acido cianúrico\",\n    \"calcium\": \"Calcio\",\n    \"phosphate\": \"Fosfato\",\n    \"alkalinity\": \"Alcalinidad\",\n    \"free_chlorine\": \"Cloro libre\",\n    \"total_chlorine\": \"Cloro total\",\n    \"pressure\": \"Pressione du filter relativa\",\n    \"sg\": \"Densidad relativa\",\n    \"magnesium\": \"Magnesio\",\n    \"water_level\": \"Nivel de agua\",\n    \"flow_rate\": \"Caudal\",\n    \"uv_radiation\": \"Radiación UV\",\n    \"product_volume\": \"Volumen Producto\",\n    \"product_weight\": \"Peso Producto\"\n  },\n  \"time\": {\n    \"seconds\": \"justo ahora\",\n    \"minutes\": \"hace {minutes} minuto{plural}\",\n    \"hours\": \"hace {hours} hora{plural}\",\n    \"days\": \"hace {days} día{plural}\"\n  }\n}\n","export default {\n  \"state\": {\n    \"1\": \"Zu niedrig\",\n    \"2\": \"Akzeptabler Tiefstwert\",\n    \"3\": \"Ideal\",\n    \"4\": \"Ideal\",\n    \"5\": \"Akzeptabler Hochwert\",\n    \"6\": \"Zu hoch\"\n  },\n  \"sensor\": {\n    \"temperature\": \"Temperatur\",\n    \"temperature_2\": \"Temperatur 2\",\n    \"ph\": \"pH\",\n    \"orp\": \"ORP\",\n    \"tds\": \"TDS\",\n    \"salinity\": \"Salzgehalt\",\n    \"cya\": \"Cyanursäure\",\n    \"calcium\": \"Kalzium\",\n    \"phosphate\": \"Phosphat\",\n    \"alkalinity\": \"Alkalinität\",\n    \"free_chlorine\": \"Freies Chlor\",\n    \"total_chlorine\": \"Gesamtchlor\",\n    \"pressure\": \"Sandfilterdruck\",\n    \"sg\": \"Spezifisches Gewicht\",\n    \"magnesium\": \"Magnesium\",\n    \"water_level\": \"Wasserstand\",\n    \"flow_rate\": \"Durchfluss\",\n    \"uv_radiation\": \"UV-Strahlung\",\n    \"product_volume\": \"Produktvolumen\",\n    \"product_weight\": \"Produktgewicht\"\n  },\n  \"time\": {\n    \"seconds\": \"gerade erst\",\n    \"minutes\": \"vor {minutes} Minute{plural}\",\n    \"hours\": \"vor {hours} Stunde{plural}\",\n    \"days\": \"vor {days} Tag{plural}\"\n  }\n}\n","export default {\n  \"state\": {\n    \"1\": \"Troppo basso\",\n    \"2\": \"Accettabile basso\",\n    \"3\": \"Ideale\",\n    \"4\": \"Ideale\",\n    \"5\": \"Accettabile alto\",\n    \"6\": \"Troppo alto\"\n  },\n  \"sensor\": {\n    \"temperature\": \"Temperatura\",\n    \"temperature_2\": \"Temperatura 2\",\n    \"ph\": \"pH\",\n    \"orp\": \"ORP\",\n    \"tds\": \"TDS\",\n    \"salinity\": \"Salinità\",\n    \"cya\": \"Acido cianurico\",\n    \"calcium\": \"Calcio\",\n    \"phosphate\": \"Fosfato\",\n    \"alkalinity\": \"Alcalinità\",\n    \"free_chlorine\": \"Cloro libero\",\n    \"total_chlorine\": \"Cloro totale\",\n    \"pressure\": \"Pressione filtro\",\n    \"sg\": \"Gravità specifica\",\n    \"magnesium\": \"Magnesio\",\n    \"water_level\": \"Livello dell'acqua\",\n    \"flow_rate\": \"Portata\",\n    \"uv_radiation\": \"Radiazione UV\",\n    \"product_volume\": \"Volume prodotto\",\n    \"product_weight\": \"Peso prodotto\"\n  },\n  \"time\": {\n    \"seconds\": \"proprio ora\",\n    \"minutes\": \"{minutes} minuto{plural} fa\",\n    \"hours\": \"{hours} ora{plural} fa\",\n    \"days\": \"{days} giorno{plural} fa\"\n  }\n}\n","export default {\n  \"state\": {\n    \"1\": \"Te laag\",\n    \"2\": \"Acceptabel laag\",\n    \"3\": \"Ideaal\",\n    \"4\": \"Ideaal\",\n    \"5\": \"Acceptabel hoog\",\n    \"6\": \"Te hoog\"\n  },\n  \"sensor\": {\n    \"temperature\": \"Temperatuur\",\n    \"temperature_2\": \"Temperatuur 2\",\n    \"ph\": \"pH\",\n    \"orp\": \"ORP\",\n    \"tds\": \"TDS\",\n    \"salinity\": \"Zoutgehalte\",\n    \"cya\": \"Cyanuurzuur\",\n    \"calcium\": \"Calcium\",\n    \"phosphate\": \"Fosfaat\",\n    \"alkalinity\": \"Alkaliteit\",\n    \"free_chlorine\": \"Vrij chloor\",\n    \"total_chlorine\": \"Totaal chloor\",\n    \"pressure\": \"Filterdruk\",\n    \"sg\": \"Soortelijk gewicht\",\n    \"magnesium\": \"Magnesium\",\n    \"water_level\": \"Waterniveau\",\n    \"flow_rate\": \"Debiet\",\n    \"uv_radiation\": \"UV-straling\",\n    \"product_volume\": \"Productvolume\",\n    \"product_weight\": \"Productgewicht\"\n  },\n  \"time\": {\n    \"seconds\": \"zojuist\",\n    \"minutes\": \"{minutes} minuut{plural} geleden\",\n    \"hours\": \"{hours} uur{plural} geleden\",\n    \"days\": \"{days} dag{plural} geleden\"\n  }\n}\n","export default {\n  \"state\": {\n    \"1\": \"Muito Baixo\",\n    \"2\": \"Torelavel mas Baixo\",\n    \"3\": \"Ideal\",\n    \"4\": \"Ideal\",\n    \"5\": \"Toleravel mas Alto\",\n    \"6\": \"Muito Alto\"\n  },\n  \"sensor\": {\n    \"temperature\": \"Temperatura\",\n    \"temperature_2\": \"Temperatura 2\",\n    \"ph\": \"pH\",\n    \"orp\": \"ORP\",\n    \"tds\": \"TDS\",\n    \"salinity\": \"Salinidade\",\n    \"cya\": \"Ácido cianúrico\",\n    \"calcium\": \"Calcio\",\n    \"phosphate\": \"Fosfato\",\n    \"alkalinity\": \"Alcalinidade\",\n    \"free_chlorine\": \"Cloro livres\",\n    \"total_chlorine\": \"Cloro total\",\n    \"pressure\": \"Pressão do filtro\",\n    \"sg\": \"Gravidade específica\",\n    \"magnesium\": \"Magnésio\",\n    \"water_level\": \"Nivel de agua\",\n    \"flow_rate\": \"Caudal\",\n    \"uv_radiation\": \"Radiação UV\",\n    \"product_volume\": \"Volume Produto\",\n    \"product_weight\": \"Peso Produto\"\n  },\n  \"time\": {\n    \"seconds\": \"Agora\",\n    \"minutes\": \"{minutes} Muntos{plural} atrás\",\n    \"hours\": \"{hours} horas{plural} atrás\",\n    \"days\": \"{days} dias{plural} atrás\"\n  }\n}\n","export default {\n  \"state\": {\n    \"1\": \"Muito Baixo\",\n    \"2\": \"Aceitavel Baixo\",\n    \"3\": \"Ideal\",\n    \"4\": \"Ideal\",\n    \"5\": \"Aceitavel Alto\",\n    \"6\": \"Muito Alto\"\n  },\n  \"sensor\": {\n    \"temperature\": \"Temperatura\",\n    \"temperature_2\": \"Temperatura 2\",\n    \"ph\": \"pH\",\n    \"orp\": \"ORP\",\n    \"tds\": \"TDS\",\n    \"salinity\": \"Salinidade\",\n    \"cya\": \"Acido Cianurico\",\n    \"calcium\": \"Calcio\",\n    \"phosphate\": \"Fosfato\",\n    \"alkalinity\": \"Alcalinidade\",\n    \"free_chlorine\": \"Cloro Livre\",\n    \"total_chlorine\": \"Cloro Total\",\n    \"pressure\": \"Pressão no Filtro\",\n    \"sg\": \"Gravidade específica\",\n    \"magnesium\": \"Magnésio\",\n    \"water_level\": \"Nivel de agua\",\n    \"flow_rate\": \"Caudal\",\n    \"uv_radiation\": \"Radiação UV\",\n    \"product_volume\": \"Volume Produto\",\n    \"product_weight\": \"Peso Produto\"\n  },\n  \"time\": {\n    \"seconds\": \"Agora mesmo\",\n    \"minutes\": \"{minutes} minutos{plural} atras\",\n    \"hours\": \"{hours} horas{plural} atras\",\n    \"days\": \"{days} Dias{plural} atras\"\n  }\n}\n","export default {\n  \"state\": {\n    \"1\": \"Prea mic\",\n    \"2\": \"Mic\",\n    \"3\": \"Ideal\",\n    \"4\": \"Ideal\",\n    \"5\": \"Mare\",\n    \"6\": \"Prea mare\"\n  },\n  \"sensor\": {\n    \"temperature\": \"Temperatură\",\n    \"temperature_2\": \"Temperatură 2\",\n    \"ph\": \"pH\",\n    \"orp\": \"ORP\",\n    \"tds\": \"TDS\",\n    \"salinity\": \"Salinitate\",\n    \"cya\": \"Acid cianuric\",\n    \"calcium\": \"Calciu\",\n    \"phosphate\": \"Fosfat\",\n    \"alkalinity\": \"Alcalinitate\",\n    \"free_chlorine\": \"Clor liber\",\n    \"total_chlorine\": \"Clor total\",\n    \"pressure\": \"Presiune filtru\",\n    \"sg\": \"Greutate specifică\",\n    \"magnesium\": \"Magneziu\",\n    \"water_level\": \"Nivel apă\",\n    \"flow_rate\": \"Debit\",\n    \"uv_radiation\": \"Radiație UV\",\n    \"product_volume\": \"Volum produs\",\n    \"product_weight\": \"Greutate produs\"\n  },\n  \"time\": {\n    \"seconds\": \"acum\",\n    \"minutes\": \"acum {minutes} minut{plural}\",\n    \"hours\": \"acum {hours} oră{plural}\",\n    \"days\": \"acum {days} zi{plural}\"\n  }\n}\n","export default {\n  \"state\": {\n    \"1\": \"Príliš nízky\",\n    \"2\": \"Akceptovateľne nízky\",\n    \"3\": \"Ideálny\",\n    \"4\": \"Ideálny\",\n    \"5\": \"Akceptovateľne vysoký\",\n    \"6\": \"Príliš vysoký\"\n  },\n  \"sensor\": {\n    \"temperature\": \"Teplota\",\n    \"temperature_2\": \"Teplota 2\",\n    \"ph\": \"pH\",\n    \"orp\": \"ORP\",\n    \"tds\": \"TDS\",\n    \"salinity\": \"Salinita\",\n    \"cya\": \"Kyselina kyanurová\",\n    \"calcium\": \"Vápnik\",\n    \"phosphate\": \"Fosfát\",\n    \"alkalinity\": \"Alkalinita\",\n    \"free_chlorine\": \"Voľný chlór\",\n    \"total_chlorine\": \"Celkový chlór\",\n    \"pressure\": \"Tlak filtra\",\n    \"sg\": \"Špecifická hmotnosť\",\n    \"magnesium\": \"Magnézium\",\n    \"water_level\": \"Úroveň vody\",\n    \"flow_rate\": \"Prietok\",\n    \"uv_radiation\": \"UV žiarenie\",\n    \"product_volume\": \"Objem produktu\",\n    \"product_weight\": \"Hmotnosť produktu\"\n  },\n  \"time\": {\n    \"seconds\": \"práve teraz\",\n    \"minutes\": \"{minutes} minút{plural} pred\",\n    \"hours\": \"{hours} hodín{plural} pred\",\n    \"days\": \"{days} dní{plural} pred\"\n  }\n}\n","export default {\n  \"state\": {\n    \"1\": \"נמוך מדי\",\n    \"2\": \"נמוך מאוד\",\n    \"3\": \"אידיאלי\",\n    \"4\": \"אידיאלי\",\n    \"5\": \"גבוה מאוד\",\n    \"6\": \"גבוה מדי\"\n  },\n  \"sensor\": {\n    \"temperature\": \"טמפרטורה\",\n    \"temperature_2\": \"טמפרטורה 2\",\n    \"ph\": \"PH\",\n    \"orp\": \"ORP\",\n    \"tds\": \"TDS\",\n    \"salinity\": \"מליחות\",\n    \"cya\": \"חומצה ציאנורית\",\n    \"calcium\": \"סידן\",\n    \"phosphate\": \"פוספט\",\n    \"alkalinity\": \"אלקליניות\",\n    \"free_chlorine\": \"כלור חופשי\",\n    \"total_chlorine\": \"כלור כולל\",\n    \"pressure\": \"לחץ מסנן\",\n    \"sg\": \"משקל סגולי\",\n    \"magnesium\": \"מגנזיום\",\n    \"water_level\": \"מפלס מים\",\n    \"flow_rate\": \"קצב זרימה\",\n    \"uv_radiation\": \"קרינת UV\",\n    \"product_volume\": \"נפח מוצר\",\n    \"product_weight\": \"משקל מוצר\"\n  },\n  \"time\": {\n    \"seconds\": \"הרגע\",\n    \"minutes\": \"לפני {minutes} דקות\",\n    \"hours\": \"לפני {hours} שעות\",\n    \"days\": \"לפני {days} ימים\"\n  }\n}\n","export default {\n  \"state\": {\n    \"1\": \"Слишком низкий\",\n    \"2\": \"Приемлемо низкий\",\n    \"3\": \"Идеальный\",\n    \"4\": \"Идеальный\",\n    \"5\": \"Приемлемо высокий\",\n    \"6\": \"Слишком высокий\"\n  },\n  \"sensor\": {\n    \"temperature\": \"Температура\",\n    \"temperature_2\": \"Температура 2\",\n    \"ph\": \"pH\",\n    \"orp\": \"ORP\",\n    \"tds\": \"TDS\",\n    \"salinity\": \"Соленость\",\n    \"cya\": \"Циануровая кислота\",\n    \"calcium\": \"Кальций\",\n    \"phosphate\": \"Фосфаты\",\n    \"alkalinity\": \"Щелочность\",\n    \"free_chlorine\": \"Свободный хлор\",\n    \"total_chlorine\": \"Общий хлор\",\n    \"pressure\": \"Давление фильтра\",\n    \"sg\": \"Удельный вес\",\n    \"magnesium\": \"Магний\",\n    \"water_level\": \"Уровень воды\",\n    \"flow_rate\": \"Расход воды\",\n    \"uv_radiation\": \"УФ-излучение\",\n    \"product_volume\": \"Объем продукта\",\n    \"product_weight\": \"Вес продукта\"\n  },\n  \"time\": {\n    \"seconds\": \"{seconds} секунд{plural}\",\n    \"minutes\": \"{minutes} минут{plural} назад\",\n    \"hours\": \"{hours} часов{plural} назад\",\n    \"days\": \"{days} дней{plural} назад\"\n  }\n}\n","import en from './en.js';\nimport fr from './fr.js';\nimport es from './es.js';\nimport de from './de.js';\nimport it from './it.js';\nimport nl from './nl.js';\nimport pt from './pt.js';\nimport ptBR from './pt-br.js';\nimport ro from './ro.js';\nimport sk from './sk.js';\nimport he from './he.js';\nimport ru from './ru.js';\n\nexport const translations = {\n  en,\n  fr,\n  es,\n  de,\n  it,\n  nl,\n  pt,\n  'pt-br': ptBR,\n  ro,\n  sk,\n  he,\n  ru\n};\n\nexport const getTranslation = (lang, key) => {\n  const keys = key.split('.');\n  let result = translations[lang] || translations.en;\n  \n  for (const k of keys) {\n    if (result && typeof result === 'object') {\n      result = result[k];\n    } else {\n      return key; // Fallback to key if translation not found\n    }\n  }\n  \n  return result || key;\n};\n\nexport const formatTranslation = (translation, values) => {\n  if (!values) return translation;\n  \n  return Object.entries(values).reduce((acc, [key, value]) => {\n    return acc.replace(`{${key}}`, value);\n  }, translation);\n};\n","const VERSION = '2.0.0-Alpha';\n/* global __BUILD_TIMESTAMP__ */\nconst BUILD_TIMESTAMP = __BUILD_TIMESTAMP__ || 'dev';\n\nexport const CARD_VERSION = `${VERSION} (${BUILD_TIMESTAMP})`;\n\nexport const CARD_INFO = {\n    cardType: 'pool-monitor-card',\n    cardName: 'Pool Monitor Card',\n    cardDescription: 'The \"Pool Monitor Card\" is a home assistant plugin that provides information about the temperature, pH, and ORP levels of your swimming pool'\n};\n\n// Liste des types de capteurs supportés\nexport const SUPPORTED_SENSORS = [\n    'temperature',\n    'orp',\n    'tds',\n    'ph',\n    'salinity',\n    'cya',\n    'calcium',\n    'phosphate',\n    'alkalinity',\n    'free_chlorine',\n    'total_chlorine',\n    'pressure',\n    'sg',\n    'magnesium',\n    'water_level',\n    'flow_rate',\n    'uv_radiation',\n    'product_volume',\n    'product_weight'\n];\n\n// Console styling\nexport const CONSOLE_STYLE = {\n    title: 'color: white; background: green; font-weight: 700;',\n    version: 'color: green; background: white; font-weight: 700;'\n};\n","var LitElement = LitElement || Object.getPrototypeOf(customElements.get(\"ha-panel-lovelace\"));\nvar css = LitElement.prototype.css;\n\nexport const styles = css`\n  :host {\n    background: var(--ha-card-background, var(--card-background-color, white));\n    border-radius: var(--ha-card-border-radius, 12px);\n    border-width: var(--ha-card-border-width,4px);\n    box-shadow: var(\n      --ha-card-box-shadow\n    );\n    color: var(--primary-text-color);\n    display: block;\n    transition: all 0.3s ease-out 0s;\n    position: relative;\n    padding-top: 25px;\n  }\n\n  .section{\n    padding-bottom:10px;\n    padding:15px;\n  }\n\n  .pool-monitor-title{\n    font-size: 1.5rem;\n    font-weight: 500;\n    padding-left: 15px;\n    padding-bottom: 15px;\n    margin: 0;\n  }\n\n  .pool-monitor-entity-img {\n    text-align:right;\n    width:10%;\n    float:left;\n  }\n\n  .pool-monitor-container {\n    display: grid;\n    padding: 5px;\n    height: 15px;\n  }\n\n  .pool-monitor-container-values {\n    display: grid;\n    grid-template-columns: repeat(5,2fr) 1fr;\n    padding-top: 0px;\n  }\n\n  .pool-monitor-container-marker {\n    display: grid;\n    grid-template-columns: 10% repeat(6, 1fr) 5%;\n    padding: 10px;\n    grid-template-rows:15px;\n    line-height: 15px;\n    position: relative;\n  }\n\n  .pool-monitor-container-marker .marker {\n    text-align: center;\n    justify-self: center;\n    width: 70px;\n    height:20px;\n    padding-top:5px;\n    border-radius: 5px;\n    position: absolute;\n    z-index: 1;\n  }\n\n  .pool-monitor-container-marker .marker-state {\n    width: 60px;\n    position: absolute;\n    z-index: 1;\n  }\n\n  .pool-monitor-container-marker .triangle {\n    width: 0;\n    height: 0;\n    border-left: 10px solid transparent;\n    border-right: 10px solid transparent;\n    position: absolute;\n    bottom: 0px;\n    transform: translateX(-50%);\n  }\n\n  .grid-item {\n    padding-top: 150%;\n    padding-bottom: 20%;\n    padding: 0;\n  }\n\n  .grid-item-text-box {\n    font-size: 0.8em;\n    text-align: center;\n    font-weight: 700;\n  }\n\n  .item-row {\n    grid-row: 1;\n  }\n\n  .cursor{\n    text-align: center;\n    justify-self: center;\n    font-size:13px;\n    font-weight: 600;\n    color: black;\n    position: absolute;\n    z-index: 1;\n  }\n\n  .cursor-text{\n    width: 150px;\n    height: 17px;\n    padding-left: 3px;\n    padding-right: 3px;\n    padding-top:0px;\n    margin-top: -1px;\n    font-size: 11px;\n    font-weight: 500;\n    text-align: right;\n    color: black;\n    justify-self: right;\n    position: absolute;\n    z-index: 1;\n  }\n\n  .progress-bar-child {\n    height: 100%;\n    width: 100%;\n    border-radius: 5px;\n  }\n\n  .sensor-monitor-container {\n    position: relative;\n    height: 20px;\n    margin: 0px 0px 0px 0px;\n    border-radius: 5px;\n    overflow: hidden;\n  }\n\n  .warning-message {\n    background-color: var(--warning-color, rgba(255, 152, 0, 0.1));\n    border-left: 4px solid var(--warning-color, #ff9800);\n    border-radius: 4px;\n    padding: 12px 16px;\n    margin: 8px 0;\n    color: var(--warning-text-color, var(--primary-text-color));\n    font-size: 0.95em;\n    line-height: 1.4;\n    display: flex;\n    align-items: center;\n    animation: fadeIn 0.3s ease-in-out;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  }\n\n  .warning-message ha-icon {\n    color: var(--warning-color, #ff9800);\n    margin-right: 12px;\n    flex-shrink: 0;\n  }\n\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n      transform: translateY(-10px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n`;\n","var LitElement = LitElement || Object.getPrototypeOf(customElements.get(\"ha-panel-lovelace\"));\nvar html = LitElement.prototype.html;\n\nexport class cardContent {\n  static generateTitle(config) {\n    const title = config.title !== undefined ? html`\n      <h1 class=\"pool-monitor-title\">${config.title}</h1>\n    ` : html``;\n\n    return html`${title}`;\n  }\n\n  // TODO : Ajouter le mode mode colors : heatflow ou centric (par défaut)\n  // .progress-centric {\n  //   background: linear-gradient(to right, #e17055 5%, #fdcb6e 30%, #00b894, #00b894, #fdcb6e 70%, #e17055 95%);\n  // }\n\n  // .progress-heatflow {\n  //   background: linear-gradient(to right, #69AEFF 15%,#ffdb3a 30%, #ffdb3a 60%, #e5405e 95%);\n  // }\n\n  static generateBody(config, data) {\n    // console.log('Config:', config);\n\n    return html`\n      <!-- ##### ${data.name} section ##### -->    \n      <div class=\"section\" @click=${() => this._moreinfo(data.entity)}>   \n        <div class=\"pool-monitor-container-marker\">\n          <div class=\"marker\" style=\"background-color: ${data.color} ;color: black;left: ${data.pct_marker}%;\">${data.value} ${data.unit}</div>\n          <div class=\"marker-state\" style=\"padding-${data.side_align}:40px;text-align:${data.side_align};background-color:transparent ;${data.side_align}: ${data.pct_state_step}%;\">${data.state}</div>\n          <div class=\"triangle\" style=\"border-top: 10px solid ${data.color} ;left: ${data.pct-1}%;\"></div>\n        </div>\n        ${!data.hide_icon ? html`\n          <div class=\"pool-monitor-entity-img\">\n            ${data.is_mdi ? html`\n              <ha-icon icon=\"${data.mdi_icon}\" style=\"width: 32px; height: 32px;\"></ha-icon>\n            ` : html`\n              <img src=\"${data.img_src}\" style=\"width: 32px; height: 32px;\">\n            `}\n          </div>\n        ` : ''}\n        <div class=\"pool-monitor-container\">\n          ${config.display.gradient ? html`\n            <div class=\"progress-bar-child\" style=\"background: linear-gradient(to right, \n              ${config.colors.mode === 'centric' ? \n                `${config.colors.warn} 5%, \n                 ${config.colors.low} 30%, \n                 ${config.colors.normal}, \n                 ${config.colors.normal}, \n                 ${config.colors.low} 70%, \n                 ${config.colors.warn} 95%` \n                : \n                `${config.colors.low}, \n                 ${config.colors.normal}, \n                 ${config.colors.warn}`\n              }\n            );\"></div>\n          ` : html`\n            <div style=\"background-color: ${config.colors.warn}; grid-column: 2 ; border-radius: 5px 0px 0px 5px\" class=\"grid-item item-row\"> </div>\n            <div style=\"background-color: ${config.colors.low}; grid-column: 3 ;\" class=\"grid-item item-row\"></div>\n            <div style=\"background-color: ${config.colors.normal}; grid-column: 4 ;\" class=\"grid-item item-row\"></div>  \n            <div style=\"background-color: ${config.colors.normal}; grid-column: 5 ;\" class=\"grid-item item-row\"></div>  \n            <div style=\"background-color: ${config.colors.low}; grid-column: 6 ;\" class=\"grid-item item-row\"></div>\n            <div style=\"background-color: ${config.colors.warn}; grid-column: 7 ; border-radius: 0px 5px 5px 0px;\" class=\"grid-item item-row\"></div>\n            ${data.pct_min !== data.pct_cursor ? html`<div class=\"cursor-text\" style=\"border-${data.side_align}: 5px solid ${config.colors.hi_low}; text-align:${data.side_align};background-color:transparent ;${data.side_align}: ${data.pct_min}%;\"></div>` : ''}\n            ${data.pct_max !== data.pct_cursor ? html`<div class=\"cursor-text\" style=\"border-${data.side_align}: 5px solid ${config.colors.hi_low}; text-align:${data.side_align};background-color:transparent ;${data.side_align}: ${data.pct_max}%;\"></div>` : ''}\n          `}\n        </div>\n        <div class=\"pool-monitor-container-values\">\n          <div style=\"background-color: transparent; grid-column: 1 ; border-radius: 5px 0px 0px 5px\" class=\"grid-item item-row\"> <div style=\"font-size: 0.8em;text-align:right;margin:-5px 2px 0 0 \">${data.setpoint_class[0]}</div></div>\n          <div style=\"background-color: transparent; grid-column: 2 ;\" class=\"grid-item item-row\"><div style=\"font-size: 0.8em;text-align:right;margin:-5px 2px 0 0 \">${data.setpoint_class[1]}</div></div>\n          <div style=\"background-color: transparent; grid-column: 3 ;\" class=\"grid-item item-row\"><div style=\"font-size: 0.8em;color:${config.colors.normal};text-align:right;margin:-5px 2px 0 0 \">${data.setpoint_class[2]}</div></div>  \n          <div style=\"background-color: transparent; grid-column: 4 ;\" class=\"grid-item item-row\"><div style=\"font-size: 0.8em;text-align:right;margin:-5px 2px 0 0 \">${data.setpoint_class[3]}</div></div>  \n          <div style=\"background-color: transparent; grid-column: 5 ;\" class=\"grid-item item-row\"><div style=\"font-size: 0.8em;text-align:right;margin:-5px 2px 0 0 \">${data.setpoint_class[4]}</div></div>\n          <div style=\"background-color: transparent; grid-column: 6 ; border-radius: 0px 5px 5px 0px;\" class=\"grid-item item-row\"></div>\n        </div> \n      </div> \n      <div style=\"position: relative;top:-25px;margin-bottom:-25px;text-align:left;left:15px;\">${data.title}<br/><small style=\"position: relative;top:-5px;font-size:9px;color:lightgrey\">${data.last_updated}</small></div>\n    `;\n  }\n\n  static generateCompactBody(config, data) {\n    return html`\n      <!-- ##### ${data.name} section ##### -->    \n      <div class=\"section-compact\" @click=${() => this._moreinfo(data.entity)}>   \n        ${!data.hide_icon ? html`\n          <div class=\"pool-monitor-entity-img\">\n            ${data.is_mdi ? html`\n              <ha-icon icon=\"${data.mdi_icon}\" style=\"width: 24px; height: 24px;\"></ha-icon>\n            ` : html`\n              <img src=\"${data.img_src}\" style=\"width: 24px; height: 24px;\">\n            `}\n          </div>\n        ` : ''}\n        <div class=\"pool-monitor-container\">\n          ${config.display.gradient ? html`\n            <div class=\"progress-bar-child\" style=\"background: linear-gradient(to right, \n              ${config.colors.mode === 'centric' ? \n                `${config.colors.warn} 5%, \n                 ${config.colors.low} 30%, \n                 ${config.colors.normal}, \n                 ${config.colors.normal}, \n                 ${config.colors.low} 70%, \n                 ${config.colors.warn} 95%` \n                : \n                `${config.colors.low}, \n                 ${config.colors.normal}, \n                 ${config.colors.warn}`\n              }\n            );\"></div>\n          ` : html`\n            <!-- <div style=\"background-color: transparent; grid-column: 1 ; border: 0px; box-shadow:none\" class=\"grid-item item-row\"> <div style=\"font-size: 0.8em;color:lightgrey;text-align:left;margin:3px 2px 0 0 \">${data.unit}</div></div> -->\n            <div style=\"background-color: ${config.colors.warn}; grid-column: 2 ; border-radius: 5px 0px 0px 5px\" class=\"grid-item item-row\"> </div>\n            <div style=\"background-color: ${config.colors.low}; grid-column: 3 ;\" class=\"grid-item item-row\"></div>\n            <div style=\"background-color: ${config.colors.normal}; grid-column: 4 ;\" class=\"grid-item item-row\"></div>  \n            <div style=\"background-color: ${config.colors.normal}; grid-column: 5 ;\" class=\"grid-item item-row\"></div>  \n            <div style=\"background-color: ${config.colors.low}; grid-column: 6 ;\" class=\"grid-item item-row\"></div>\n            <div style=\"background-color: ${config.colors.warn}; grid-column: 7 ; border-radius: 0px 5px 5px 0px;\" class=\"grid-item item-row\"></div>\n          `}\n          <div class=\"cursor-text\" style=\"border-${data.side_align}: 5px solid ${config.marker}; text-align:${data.side_align};background-color:transparent ;${data.side_align}: ${data.pct_cursor}%;\">${data.value} ${data.unit} ${data.separator} ${data.state}</div>\n          ${data.pct_min !== data.pct_cursor ? html`<div class=\"cursor-text\" style=\"border-${data.side_align}: 5px solid ${config.colors.hi_low}; text-align:${data.side_align};background-color:transparent ;${data.side_align}: ${data.pct_min}%;\"></div>` : ''}\n          ${data.pct_max !== data.pct_cursor ? html`<div class=\"cursor-text\" style=\"border-${data.side_align}: 5px solid ${config.colors.hi_low}; text-align:${data.side_align};background-color:transparent ;${data.side_align}: ${data.pct_max}%;\"></div>` : ''}\n        </div>\n        <div class=\"pool-monitor-container-values\">\n          <div style=\"background-color: transparent; grid-column: 1 ; border-radius: 5px 0px 0px 5px\" class=\"grid-item item-row\"> <div style=\"font-size: 0.8em;text-align:right;margin:-5px 2px 0 0 \">${data.setpoint_class[0]}</div></div>\n          <div style=\"background-color: transparent; grid-column: 2 ;\" class=\"grid-item item-row\"><div style=\"font-size: 0.8em;text-align:right;margin:-5px 2px 0 0 \">${data.setpoint_class[1]}</div></div>\n          <div style=\"background-color: transparent; grid-column: 3 ;\" class=\"grid-item item-row\"><div style=\"font-size: 0.8em;color:${config.colors.normal};text-align:right;margin:-5px 2px 0 0 \">${data.setpoint_class[2]}</div></div>  \n          <div style=\"background-color: transparent; grid-column: 4 ;\" class=\"grid-item item-row\"><div style=\"font-size: 0.8em;text-align:right;margin:-5px 2px 0 0 \">${data.setpoint_class[3]}</div></div>  \n          <div style=\"background-color: transparent; grid-column: 5 ;\" class=\"grid-item item-row\"><div style=\"font-size: 0.8em;text-align:right;margin:-5px 2px 0 0 \">${data.setpoint_class[4]}</div></div>\n          <div style=\"background-color: transparent; grid-column: 6 ; border-radius: 0px 5px 5px 0px;\" class=\"grid-item item-row\"></div>\n        </div> \n      </div> \n      <div style=\"position: relative;margin-top:-21px;text-align:left;left:-30px;font-size:9px;padding-bottom: 5px;\">${data.title}</div>\n    `;\n  }\n\n  static _moreinfo(entity) {\n    const event = new Event('hass-more-info', {\n      bubbles: true,\n      composed: true\n    });\n    event.detail = { entityId: entity };\n    document.querySelector('home-assistant').dispatchEvent(event);\n  }\n}\n","export const DEFAULT_CONFIG = {\n    display: {\n        compact: false,\n        show_names: true,\n        show_labels: true,\n        show_last_updated: false,\n        show_icons: true,\n        show_units: true,\n        gradient: true,\n        language: 'en'\n    },\n\n    colors: {\n        mode: 'centric',\n        normal: '#00b894',\n        low: '#fdcb6e',\n        warn: '#e17055',\n        marker: '#000000',\n        hi_low: '#00000099'\n    },\n\n    sensors: {\n        temperature: {\n            name: 'Temperature',\n            entity: 'sensor.pool_temperature',\n            unit: '°C',\n            setpoint: 27,\n            step: 1\n        },\n        orp: {\n            name: 'ORP',\n            entity: 'sensor.pool_orp',\n            unit: 'mV',\n            setpoint: 700,\n            step: 50\n        },\n        tds: {\n            name: 'TDS',\n            entity: 'sensor.pool_tds',\n            unit: 'g/L',\n            setpoint: 4,\n            step: 1\n        },\n        ph: {\n            name: 'pH',\n            entity: 'sensor.pool_ph',\n            unit: 'pH',\n            setpoint: 7.2,\n            step: 0.2\n        },\n        salinity: {\n            name: 'Salinity',\n            entity: 'sensor.pool_salinity',\n            unit: 'ppm',\n            setpoint: 3000,\n            step: 500\n        },\n        cya: {\n            name: 'Cyanuric Acid',\n            entity: 'sensor.pool_cya',\n            unit: 'ppm',\n            setpoint: 40,\n            step: 10\n        },\n        calcium: {\n            name: 'Calcium',\n            entity: 'sensor.pool_calcium',\n            unit: 'ppm',\n            setpoint: 300,\n            step: 100\n        },\n        phosphate: {\n            name: 'Phosphate',\n            entity: 'sensor.pool_phosphate',\n            unit: 'ppb',\n            setpoint: 100,\n            step: 100\n        },\n        alkalinity: {\n            name: 'Alkalinity',\n            entity: 'sensor.pool_alkalinity',\n            unit: 'ppm',\n            setpoint: 100,\n            step: 20\n        },\n        free_chlorine: {\n            name: 'Free Chlorine',\n            entity: 'sensor.pool_free_chlorine',\n            unit: 'ppm',\n            setpoint: 3,\n            step: 0.5\n        }\n    }\n};\n\n// Utility functions to access config\nexport const getSensorConfig = (sensorType) => DEFAULT_CONFIG.sensors[sensorType];\nexport const getDisplayConfig = () => DEFAULT_CONFIG.display;\nexport const getColorConfig = () => DEFAULT_CONFIG.colors;\n","var LitElement = LitElement || Object.getPrototypeOf(customElements.get(\"ha-panel-lovelace\"));\nvar html = LitElement.prototype.html;\n\nimport { getTranslation, formatTranslation } from './locales/translations.js';\nimport { CARD_VERSION, CARD_INFO, CONSOLE_STYLE, SUPPORTED_SENSORS } from './constants.js';\nimport { styles } from './styles/styles.js';\nimport { cardContent } from './components/card-content.js';\nimport { getSensorConfig, getDisplayConfig, getColorConfig } from './configs/pool_config.js';\n\nconsole.info(\n  `%c POOL-MONITORING-CARD %c ${CARD_VERSION} `,\n  CONSOLE_STYLE.title,\n  CONSOLE_STYLE.version,\n);\n\nclass PoolMonitorCard extends LitElement {\n  static cardType = CARD_INFO.cardType\n  static cardName = CARD_INFO.cardName\n  static cardDescription = CARD_INFO.cardDescription\n\n  static get properties() {\n    return {\n      hass: {},\n      config: {}\n    };\n  }\n\n  static styles = styles;\n\n  constructor() {\n    super();\n  }\n\n  render() {\n    const config = this.getConfig()\n    const data = this.processData()\n    const generateContent = config.display.compact ? cardContent.generateCompactBody : cardContent.generateBody;\n\n    // Vérifier si nous avons des données valides\n    if (!data || Object.keys(data).length === 0) {\n      return html`\n        <div id=\"pool-monitor-card\">\n          <div class=\"warning-message\">\n            <ha-icon icon=\"mdi:alert\"></ha-icon>\n            <span>No valid sensor data available</span>\n          </div>\n        </div>`;\n    }\n\n    return html`\n      <div id=\"pool-monitor-card\">\n        ${cardContent.generateTitle(config)}\n        ${Object.values(data).map(sensorData => {\n          if (sensorData?.invalid) {\n            return html`\n              <div class=\"warning-message\">\n                <ha-icon icon=\"mdi:alert\"></ha-icon>\n                <span>Sensor ${sensorData?.name || 'unknown'} is not supported. Please verify its configuration and ensure it is compatible with the card.</span>\n              </div>\n            `;\n          } else if (sensorData?.value === null) {\n            return html`\n              <div class=\"warning-message\">\n                <ha-icon icon=\"mdi:alert\"></ha-icon>\n                <span>Entity ${sensorData?.entity || 'unknown'} could not be found. Please verify its name and ensure the entity is properly configured.</span>\n              </div>\n            `;\n          }\n          return generateContent(config, sensorData);\n        })}\n      </div>`;\n  }\n\n\n  processData() {\n    const data = {};\n    const config = this.getConfig();\n\n    Object.entries(config.sensors).forEach(([sensorType, sensorConfigs]) => {\n      // Convertir en tableau si ce n'est pas déjà le cas (rétrocompatibilité)\n      const sensorArray = Array.isArray(sensorConfigs) ? sensorConfigs : [sensorConfigs];\n\n      sensorArray.forEach((sensor, index) => {\n        const sensorKey = `${sensorType}_${index + 1}`;\n        data[sensorKey] = this.calculateData(\n          sensorType,\n          sensor.name || `${sensorType} ${index + 1}`,\n          sensor.entity,\n          sensor.min,\n          sensor.max,\n          sensor.setpoint,\n          sensor.step,\n          sensor.unit,\n          sensor.icon,\n          sensor.image_url,\n          sensor.override_value,\n          sensor.override,\n          sensor.invalid\n        );\n\n  \n      });\n    });\n\n    return data;\n  }\n\n  getTranslatedText(key, values) {\n    const lang = this.config?.language || 'en';\n    const translation = getTranslation(lang, key);\n    return formatTranslation(translation, values);\n  }\n\n  calculateData(name, title, entity, entity_min, entity_max, setpoint, setpoint_step, unit, icon, image_url, override_value, override, invalid) {\n    const newData = {};\n    const config = this.getConfig();\n    const defaultConfig = getSensorConfig(name) || {};\n\n    newData.name = name;\n    newData.invalid = invalid;\n\n    newData.title = config.display.show_names ? title : html`&nbsp;`;\n    \n    // Gestion des icônes et images pour chaque capteur\n    if (!config.display.show_icons) {\n      newData.hide_icon = true;\n    } else {\n      const sensorIcon = icon || '';\n      const sensorImage = image_url || '';\n\n      if (sensorIcon === 'hide') {\n        newData.hide_icon = true;\n      } else if (sensorImage) {\n        newData.is_mdi = false;\n        newData.img_src = sensorImage;\n      } else if (sensorIcon && typeof sensorIcon === 'string' && sensorIcon.startsWith('mdi:')) {\n        newData.is_mdi = true;\n        newData.mdi_icon = sensorIcon;\n      } else {\n        newData.img_src = `https://raw.githubusercontent.com/wilsto/pool-monitor-card/master/resources/${name}.png`;\n      }\n    }\n\n    // Vérifier si l'entité existe\n    if (!this.hass || !this.hass.states || !this.hass.states[entity]) {\n      console.warn(`Entity not found: ${entity}`);\n      newData.value = null;\n      newData.entity = entity;\n      return newData;\n    }\n\n    newData.value = parseFloat(this.hass.states[entity].state);\n    newData.entity = entity;\n    \n    if (config.display.show_last_updated) {\n      newData.last_updated = this.timeFromNow(this.hass.states[entity].last_updated);\n    }\n    \n    // Utiliser l'unité de la configuration par défaut si non spécifiée\n    newData.unit = config.display.show_units ? (unit || defaultConfig.unit || '') : '';\n    \n    if (override){\n      newData.value = override_value || defaultConfig.override;\n    }\n\n    // Vérifier les entités min/max\n    newData.min_value = entity_min !== undefined && this.hass.states[entity_min] && !isNaN(parseFloat(this.hass.states[entity_min].state))\n      ? parseFloat(this.hass.states[entity_min].state)\n      : newData.value;\n    \n    newData.max_value = entity_max !== undefined && this.hass.states[entity_max] && !isNaN(parseFloat(this.hass.states[entity_max].state))\n      ? parseFloat(this.hass.states[entity_max].state)\n      : newData.value;\n\n    // Utiliser les valeurs par défaut de la configuration si non spécifiées\n    setpoint = setpoint !== undefined ? parseFloat(setpoint) : (defaultConfig.setpoint !== undefined ? parseFloat(defaultConfig.setpoint) : newData.value);\n    setpoint_step = setpoint_step !== undefined ? parseFloat(setpoint_step) : (defaultConfig.step !== undefined ? parseFloat(defaultConfig.step) : 0.1);\n\n    const countDecimals = Math.max(\n      this.countDecimals(setpoint), \n      this.countDecimals(setpoint_step)\n    );\n\n    if (newData.value) {\n      newData.value = parseFloat(this.hass.states[entity].state);\n    }\n\n    newData.setpoint = setpoint;\n    newData.setpoint_class = [\n      (setpoint - 2 * setpoint_step).toFixed(countDecimals),\n      (setpoint - setpoint_step).toFixed(countDecimals),\n      (setpoint).toFixed(countDecimals),\n      (setpoint + setpoint_step).toFixed(countDecimals),\n      (setpoint + 2 * setpoint_step).toFixed(countDecimals)\n    ]\n\n    newData.separator = config.show_labels ? \"-\":\"\";\n    newData.color = \"transparent\";\n    if (Number(newData.value)  < Number(newData.setpoint_class[0])) {\n      newData.state = config.show_labels ? this.getTranslatedText('state.1'):\"\";\n      newData.color = config.colors.warn;\n    } else if (Number(newData.value)  >= Number(newData.setpoint_class[0]) && Number(newData.value)  < Number(newData.setpoint_class[1])) {\n      newData.state = config.show_labels ? this.getTranslatedText('state.2'):\"\";\n      newData.color = config.colors.low;\n    } else if (Number(newData.value)  >= Number(newData.setpoint_class[1]) && Number(newData.value)  < Number(newData.setpoint_class[2])) {\n      newData.state = config.show_labels ? this.getTranslatedText('state.3'):\"\";\n      newData.color = config.colors.normal;\n    } else if (Number(newData.value)  >= Number(newData.setpoint_class[2]) && Number(newData.value)  < Number(newData.setpoint_class[3])) {\n      newData.state = config.show_labels ? this.getTranslatedText('state.4'):\"\";\n      newData.color = config.colors.normal;\n    } else if (Number(newData.value)  >= Number(newData.setpoint_class[3]) && Number(newData.value)  < Number(newData.setpoint_class[4])) {\n      newData.state = config.show_labels ? this.getTranslatedText('state.5'):\"\";\n      newData.color = config.colors.low;\n    } else if (Number(newData.value)  >= Number(newData.setpoint_class[4])) {\n      newData.state = config.show_labels ? this.getTranslatedText('state.6'):\"\";\n      newData.color = config.colors.warn;\n    }\n    newData.progressClass = name === \"temperature\" ? \"progress-temp\" : \"progress\";\n\n    newData.pct = Math.max(0, Math.min(98.5, (Math.max(0, newData.value - (setpoint - 3 *setpoint_step)) / (6 * setpoint_step)) * 0.85 * 100 + 13)).toFixed(0);\n    newData.pct_min = Math.max(0, Math.min(98.5, (Math.max(0, newData.min_value - (setpoint - 3 *setpoint_step)) / (6 * setpoint_step)) * 0.85 * 100 + 13)).toFixed(0);\n    newData.pct_max = Math.max(0, Math.min(98.5, (Math.max(0, newData.max_value - (setpoint - 3 *setpoint_step)) / (6 * setpoint_step)) * 0.85 * 100 + 13)).toFixed(0);\n    newData.pct_marker = newData.value > newData.setpoint ? newData.pct - 13 : newData.pct - 5;\n    newData.side_align = newData.value > setpoint ? \"right\" : \"left\" ;\n    newData.pct_cursor = newData.value > setpoint ? 100 - parseFloat(newData.pct) : parseFloat(newData.pct) -2;\n    newData.pct_state_step = newData.value > setpoint ? 105 - parseFloat(newData.pct): parseFloat(newData.pct)+5;\n    newData.pct_min = newData.value > setpoint ? 100 - parseFloat(newData.pct_min) : parseFloat(newData.pct_min) -2;\n    newData.pct_max = newData.value > setpoint ? 100 - parseFloat(newData.pct_max) : parseFloat(newData.pct_max) -2;\n\n    return newData\n  }\n\n  /**\n   * Count the number of decimal places in a number\n   * @param {number} number - The number to analyze\n   * @returns {number} The number of decimal places (0 if integer or invalid)\n   */\n  countDecimals(number) {\n    if (number === undefined || number === null) {\n      return 0;\n    }\n    if (Math.floor(number) === number) { // si c'est un nombre entier\n      return 0;\n    }\n    const str = number.toString();\n    if (str.includes('.')) {\n      return str.split(\".\")[1].length || 0;\n    }\n    return 0;\n  }\n\n  timeFromNow(dateTime) {\n    const date = new Date(dateTime);\n    const diff = Date.now() - date.getTime();\n  \n    const t = (key, n) => {\n      let plural = n == 1 ? '' : 's';\n      let translation = this.getTranslatedText(`time.${key}`);\n      translation = translation.replace('{'+ key + '}', n);\n      translation = translation.replace('{plural}', plural);\n      return translation;\n    };\n\n    const minutes = Math.floor(diff / 60000);\n    const hours = Math.floor(minutes / 60);\n    const days = Math.floor(hours / 24);\n    \n    if (minutes < 1) return t('seconds', 0);\n    if (minutes < 60) return t('minutes', minutes);\n    if (hours < 24) return t('hours', hours);\n    return t('days', days);\n  }\n\n  getConfig() {\n    return  this.config;\n  }\n\n  setConfig(config) {\n    // Utiliser la configuration par défaut de pool_config.js\n    const defaultConfig = {\n      display: getDisplayConfig(),\n      colors: getColorConfig(),\n    };\n\n    // Merge avec la configuration utilisateur\n    const newConfig = {\n      ...config,\n      display: {\n        ...defaultConfig.display,\n        ...(config.display || {})\n      },\n      colors: {\n        ...defaultConfig.colors,\n        ...(config.colors || {})\n      },\n      // Créer une copie profonde de la configuration des sensors\n      sensors: {}\n    };\n\n    if (!config.sensors) {\n      console.warn(`Legacy configuration detected, please move sensors under \"sensors\" key`, {\n        config\n      });\n      throw new Error('Legacy configuration detected. Please update your setup to define all sensors under the \"sensors\" key as required by the version 2.0 of the card.');\n    }\n\n    // Validation et transformation des capteurs\n    Object.entries(config.sensors).forEach(([sensorType, sensorConfig]) => {\n      // Obtenir la configuration par défaut pour ce type de capteur\n      const defaultSensorConfig = getSensorConfig(sensorType);\n\n      // Vérifier si le sensor est supporté\n      if (!SUPPORTED_SENSORS.includes(sensorType)) {\n        console.warn(`Unsupported sensor type: ${sensorType}`, {\n          sensorType,\n          supportedSensors: SUPPORTED_SENSORS,\n          config: config,\n          sensorConfig\n        });\n      }\n\n      // Convertir en tableau si ce n'est pas déjà le cas (rétrocompatibilité)\n      const sensorArray = Array.isArray(sensorConfig) ? [...sensorConfig] : [{ ...sensorConfig }];\n      \n      if (sensorArray.length === 0) {\n        throw new Error(`Empty sensor array for ${sensorType}`);\n      }\n\n      // Fusionner les valeurs par défaut pour chaque capteur du tableau\n      const mergedSensorArray = sensorArray.map(sensor => ({\n        ...defaultSensorConfig,  // Valeurs par défaut\n        ...sensor               // Configuration utilisateur (écrase les valeurs par défaut)\n      }));\n\n      mergedSensorArray.forEach((sensor, index) => {\n        if (!sensor.entity) {\n          throw new Error(`Missing entity for ${sensorType}[${index}]`);\n        }\n      });\n\n      // Stocker le tableau de capteurs fusionnés dans le nouvel objet\n      newConfig.sensors[sensorType] = mergedSensorArray;\n    });\n\n    this.config = newConfig;\n  }\n\n  static _moreinfo(entityinfo) {\n    const popupEvent = new Event(\"hass-more-info\", {\n      bubbles: true,\n      cancelable: false,\n      composed: true,\n    });\n    popupEvent.detail = { entityId: entityinfo };\n    document.querySelector(\"home-assistant\").dispatchEvent(popupEvent);\n  }\n}\n\ncustomElements.define(\"pool-monitor-card\", PoolMonitorCard);\n"],"names":["en","state","sensor","temperature","temperature_2","ph","orp","tds","salinity","cya","calcium","phosphate","alkalinity","free_chlorine","total_chlorine","pressure","sg","magnesium","water_level","flow_rate","uv_radiation","product_volume","product_weight","time","seconds","minutes","hours","days","fr","es","de","it","nl","pt","ptBR","ro","sk","he","ru","translations","getTranslation","lang","key","keys","split","result","k","formatTranslation","translation","values","Object","entries","reduce","acc","value","replace","VERSION","BUILD_TIMESTAMP","CARD_VERSION","CARD_INFO","cardType","cardName","cardDescription","SUPPORTED_SENSORS","CONSOLE_STYLE","title","version","LitElement","getPrototypeOf","customElements","get","css","prototype","styles","html","cardContent","generateTitle","config","undefined","generateBody","data","name","this","_moreinfo","entity","color","pct_marker","unit","side_align","pct_state_step","pct","hide_icon","is_mdi","mdi_icon","img_src","display","gradient","colors","mode","warn","low","normal","pct_min","pct_cursor","hi_low","pct_max","setpoint_class","last_updated","generateCompactBody","marker","separator","event","Event","bubbles","composed","detail","entityId","document","querySelector","dispatchEvent","DEFAULT_CONFIG","compact","show_names","show_labels","show_last_updated","show_icons","show_units","language","sensors","setpoint","step","getSensorConfig","sensorType","getDisplayConfig","getColorConfig","console","info","PoolMonitorCard","static","properties","hass","constructor","super","render","getConfig","processData","generateContent","length","map","sensorData","invalid","forEach","sensorConfigs","sensorArray","Array","isArray","index","sensorKey","calculateData","min","max","icon","image_url","override_value","override","getTranslatedText","entity_min","entity_max","setpoint_step","newData","defaultConfig","sensorIcon","sensorImage","startsWith","states","parseFloat","timeFromNow","min_value","isNaN","max_value","countDecimals","Math","toFixed","Number","progressClass","number","floor","str","toString","includes","dateTime","date","Date","diff","now","getTime","t","n","plural","setConfig","newConfig","Error","sensorConfig","defaultSensorConfig","supportedSensors","mergedSensorArray","entityinfo","popupEvent","cancelable","define"],"mappings":"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"}